<!DOCTYPE html>
<html>
    <head>
        <title>Shows Available</title>
    </head>
    <body style="background-color:#0B0D0E; color:#D9D7D4">
        <div style="display: flex; justify-content: space-between; align-items: center; padding: 0.1rem 0.6rem;">
            <h1>Shows Available</h1>
            <a href="{{ url_for('userhome') }}" style="padding: 0.2rem 0.5rem;
					background-color: blue;
					height: fit-content;
					color: white;
					border-radius: 0.2rem;
					text-decoration: none;
                    ">Home</a>
        </div>
        <div style="display: flex; flex-direction: column; gap: 1rem;">
            <form action="/bookshow" method="POST">
                Search: <input type="search" name="q"> <input type="submit" value="🔍">
            </form>
            {% for row in row_d.keys() %}
            <div style="background-color: #2F3436; border-radius: 0.3rem; padding: 0.5rem 0.8rem;">
                <h3 style="font-family: Arial, Helvetica, sans-serif; margin: 0.2rem 0.2rem; font-size: 2rem; margin-bottom: 1rem;">{{ row }}</h3>
                <div style="display: flex; gap: 0.3rem;">
                    {% for d in row_d[row] %}
                    <div style="border: 0.5px solid darkgray; padding: 0.5rem 0.6rem; min-width: 20ch; background-color: rgb(40, 45, 58);">
                        <h4 style="font-size: 1.2rem; margin: 0.2rem 0 0 0;">{{ d[2] }}</h4>
                        <div style="display: flex; justify-content: space-between; padding: 0rem 0rem; font-size: 0.8rem; color:lightgray; flex-direction: column; margin-bottom: 1.5rem;">
                            <p style="margin: 0rem;">Starts at {{ d[3] }}</p>
                            <p style="margin: 0rem;">{{ d[4] }} seats left</p>
                        </div>
                        {% if d[4] > 0 %}
                        <div style="display: flex; justify-content: end;">
                            <a href={{ url_for('book_ticket',sid = d[0]) }} style="background-color: darkgray; border: 0.5px solid black; border-radius: 0.2rem; text-decoration: none; color: black; padding: 0.2rem 0.5rem; font-family: Arial, Helvetica, sans-serif; font-size: 1rem;">Book</a>
                        </div>
                        {% else %}
                        <div style="display: flex; justify-content: end;">
                            <span style="background-color: red; color: white; font-size: 1.2rem; padding: 0.2rem 0.5rem;">Sold Out!</span>
                        </div>
                            {% endif %}
                    </div>
                    <br>
                    {% endfor %}
                </div>
            </div>
            {% endfor %}
        </div>
        
    </body>
</html>